# v1.10 — 사번 자동생성 규칙, 센터/파트 확정

**작업일:** 2026-02-08
**범위:** `docs/workflow_proposal_md/` 4개 문서 전체 (v1.3 → v1.4)

---

## 배경

관리자가 근로자를 등록할 때 사번과 ID를 일관된 규칙으로 자동생성해야 하며, 원청(보트랜스)과 하청(태경홀딩스)을 구분할 수 있어야 한다.

## 확정 사항

### 소속 회사 (companies)

| 회사명 | 코드 | 유형 |
|--------|------|------|
| 보트랜스 | BT | 원청 (prime) |
| 태경홀딩스 | TK | 하청 (sub) |

### 소속 센터 (sites)

| 센터명 | 코드 |
|--------|------|
| 서이천 | IC |
| 안성 | AS |
| 의왕 | UW |
| 부평 | BP |

### 파트 (parts) — 6개

| 파트명 | 야간 |
|--------|------|
| 지게차 | |
| 지게차(야간) | O |
| 피커 | |
| 피커(야간) | O |
| 검수 | |
| 사무 | |

### 사번 자동생성 규칙 (방안B)

```
[회사코드 2자리]-[센터코드 2자리][순번 3자리]

예시:
BT-IC001  ← 보트랜스, 서이천, 1번
BT-IC002  ← 보트랜스, 서이천, 2번
TK-AS001  ← 태경홀딩스, 안성, 1번
TK-BP003  ← 태경홀딩스, 부평, 3번
```

- 사번 = 사용자에게 보이는 식별자 (시스템 ID는 UUID)
- DB INSERT 시 트리거로 자동생성
- 센터 이동 시 사번 유지 (변경 안 함)
- 연간 센터당 999명까지

### 관리자 등록 입력 필드

| 항목 | 입력 방식 |
|------|----------|
| 이름 | 수동 입력 |
| 전화번호 | 수동 입력 |
| 소속 회사 | 드롭다운 (BT/TK) |
| 소속 센터 | 드롭다운 (IC/AS/UW/BP) |
| 파트 | 드롭다운 (6개) |
| 사번 | **자동생성** (읽기 전용) |

---

## 변경 파일 상세

### 01_PRD (v1.3 → v1.4)
- 6.1.1: 근로자 계정 생성에 소속회사/센터/파트 드롭다운, 사번 자동생성 명시
- 6.1.4: 파트 6개 명시
- 6.1.5: 근로자 관리 필드 업데이트, 소속회사/센터별 필터
- 용어 정의: 사업장, 소속회사, 파트, 사번 용어 추가
- 페르소나: 센터 4개 정보 업데이트

### 02_TRD (v1.3 → v1.4)
- ERD: companies 테이블 추가, workers에 employee_id/company_id
- 4.2.1 sites: site_code 필드, 4개 센터 초기 데이터
- 4.2.2 companies: 신규 테이블 (BT/TK)
- 4.2.3 parts: is_night_shift 필드, 6개 파트 초기 데이터
- 4.2.4 workers: employee_id, company_id 필드 추가
- 4.3.1: 사번 자동생성 트리거 (generate_employee_id)

### 03_UserFlow (v1.3 → v1.4)
- 3.3 근로자 관리: 등록 폼에 소속회사/센터/파트 드롭다운, 사번 자동생성 표시
- 근로자 목록: 사번 컬럼, 소속회사/센터별 필터 추가

### 04_PromptDesign (v1.3 → v1.4)
- Milestone 3: companies 테이블, sites에 site_code, 사번 트리거
- Milestone 4: Company 모델, Worker에 employeeId/companyId
- Milestone 12: DTO에 companyId, 관리 화면에 소속/센터/파트 드롭다운, 사번 미리보기
