# v1.11 작업 내역: 인증/사번/센터/파트 기능 코드 적용

## 개요
v1.9~v1.10 문서에 반영한 인증 전략(카카오/구글/SMS), 사번 자동생성(BT-IC001), 센터 4개, 파트 6개를 실제 코드에 적용. 관리자웹과 근로자앱 모두 in-memory 데모 모드.

## 변경 파일

### Part A: 공통 유틸리티 (신규 2개)
| 파일 | 작업 |
|------|------|
| `manager_web/lib/core/utils/company_constants.dart` | 회사(BT/TK), 센터(IC/AS/UW/BP), 파트 6개 상수 |
| `manager_web/lib/core/utils/employee_id_generator.dart` | 사번 자동생성 (BT-IC001 형식) |

### Part B: 관리자웹 — 근로자 관리
| 파일 | 작업 |
|------|------|
| `manager_web/lib/features/workers/data/workers_repository.dart` | company 필드 추가, 데모데이터 6명 업데이트, getNextSequenceNumber/generateNextEmployeeId 메서드 |
| `manager_web/lib/features/workers/presentation/workers_screen.dart` | 소속회사 드롭다운, 사번 자동생성(읽기전용), 직무 6개 파트, DataTable에 소속회사 컬럼 추가 |

### Part C: 근로자앱 — SNS 로그인 + 추가정보
| 파일 | 작업 |
|------|------|
| `worker_app/lib/features/auth/providers/auth_provider.dart` | AuthStatus에 needsPhoneVerification/needsProfileCompletion 추가, LoginProvider enum, loginWithKakao/loginWithGoogle/verifyPhoneAfterGoogle/saveProfile 메서드 |
| `worker_app/lib/features/auth/data/auth_repository.dart` | loginWithKakao, loginWithGoogle, verifyPhoneAndMatch, isProfileComplete, saveProfile 데모 메서드 |
| `worker_app/lib/features/auth/presentation/login_screen.dart` | 카카오(노란색)/구글(흰색)/SMS(바텀시트) 3가지 로그인 UI |
| `worker_app/lib/features/auth/presentation/phone_verification_screen.dart` | 구글 로그인 후 전화번호 인증 화면 (신규) |
| `worker_app/lib/features/auth/presentation/profile_completion_screen.dart` | 주민번호(마스킹), 주소검색(mock), 급여계좌 입력 화면 (신규) |
| `worker_app/lib/main.dart` | AuthStatus별 화면 분기 (login → phoneVerify → profileComplete → home) |

## 주요 변경사항

### 1. 회사/센터/파트 상수
- 회사: 보트랜스(BT, 원청), 태경홀딩스(TK, 하청)
- 센터: 서이천(IC), 안성(AS), 의왕(UW), 부평(BP)
- 파트: 지게차, 지게차(야간), 피커, 피커(야간), 검수, 사무

### 2. 사번 자동생성
- 형식: `{회사코드}-{센터코드}{순번3자리}` (예: BT-IC001)
- 신규 등록 시 소속회사 + 사업장 선택하면 자동 생성
- 기존 데모 데이터: BT-IC001, BT-IC002, BT-UW001, BT-UW002, TK-BP001, TK-AS001

### 3. 근로자앱 인증 플로우
- **카카오**: 로그인 → (프로필 미완료 시) 추가정보 → 홈
- **구글**: 로그인 → 전화번호 인증 → (프로필 미완료 시) 추가정보 → 홈
- **SMS**: 바텀시트에서 OTP 인증 → 홈
- **데모 로그인**: 바로 홈

### 4. 추가정보 입력 (최초 로그인 시)
- 주민등록번호 (앞6자리 + 뒤7자리 마스킹)
- 주소 검색 (데모: mock 주소 리스트)
- 상세주소 입력
- 은행 선택 + 계좌번호

## 검증 결과
- `flutter build web` 성공 (manager_web, worker_app 모두)
- `flutter run -d chrome` 성공 (manager_web, worker_app 모두)
