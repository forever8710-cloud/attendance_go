# v1.19: Worker App UI 리디자인 + 마이페이지 + 급여조회

## 작업일: 2026-02-14

## 변경 요약

### 1. 커스텀 폰트 + 테마 시스템
- `google_fonts: ^6.1.0` 패키지 추가
- `core/theme/app_theme.dart` 생성 — AppColors, AppTheme 중앙 집중식 테마
- Poppins ExtraBold: 브랜드명 "WorkFlow", 숫자 표시
- 전체 앱에 통일된 색상 체계 적용

### 2. 홈 화면 전면 리디자인
- AppBar 제거 → 커스텀 인사말 헤더 ("안녕하세요, {이름}님")
- 사업장 뱃지 (location pill)
- **출근/퇴근/조퇴 3개 동일 크기 그라디언트 버튼** Row 배치
- 상태별 활성/비활성 자동 전환 (회색 처리)
- 탭 애니메이션 (ScaleTransition)
- 오늘 출퇴근 상태 카드 (StatusCard 위젯)
- 퀵 액세스: 근태기록, 급여조회 바로가기 → 바텀 네비 탭 전환

### 3. 바텀 네비게이션 (4탭)
- `core/navigation/nav_provider.dart` — StateProvider<int>
- `core/navigation/main_scaffold.dart` — BottomNavigationBar + IndexedStack
- 4탭: 홈, 근태기록, 급여조회, 마이페이지
- 선택 탭 하이라이트 (배경색 + 볼드)
- main.dart: authenticated → MainScaffold 반환

### 4. 마이페이지 (신규)
- `features/profile/providers/profile_provider.dart`
  - workerProfileProvider: worker_profiles 테이블 조회
  - workerSiteNameProvider: sites 테이블에서 센터명
  - workerPartNameProvider: parts 테이블에서 파트명
- `features/profile/presentation/my_page_screen.dart`
  - 프로필 헤더 (그라디언트 카드 + 이니셜 아바타)
  - 기본정보: 전화번호, 소속센터, 파트
  - 개인정보: 주소(마스킹), 은행, 계좌번호(마스킹)
  - 로그아웃 버튼 (확인 다이얼로그)

### 5. 급여조회 (신규)
- `features/payroll/data/payroll_repository.dart` — Supabase payrolls 테이블 조회
- `features/payroll/providers/payroll_provider.dart` — FutureProvider
- `features/payroll/presentation/payroll_screen.dart`
  - 월 선택 (좌/우 화살표)
  - 요약 카드: 기본급, 연장수당
  - 총 지급액 (그라디언트 배너)
  - 미확정 경고 배너
  - 근무정보 상세 (출근일수, 총 근무시간 등)

### 6. 기존 화면 개선
- `login_screen.dart`: Poppins ExtraBold + 레터 스페이싱 + AppColors 적용
- `attendance_history_screen.dart`: AppBar 제거, 카드 스타일 리스트, SummaryStatCard 위젯 사용

## 공통 위젯 (신규)
- `core/widgets/action_button.dart` — 그라디언트 + ScaleTransition 애니메이션 버튼
- `core/widgets/status_card.dart` — StatusCard, SummaryStatCard

## 신규 파일 (10개)
```
apps/worker_app/lib/
├── core/
│   ├── theme/app_theme.dart
│   ├── widgets/action_button.dart
│   ├── widgets/status_card.dart
│   └── navigation/
│       ├── nav_provider.dart
│       └── main_scaffold.dart
├── features/
│   ├── payroll/
│   │   ├── data/payroll_repository.dart
│   │   ├── providers/payroll_provider.dart
│   │   └── presentation/payroll_screen.dart
│   └── profile/
│       ├── providers/profile_provider.dart
│       └── presentation/my_page_screen.dart
```

## 수정 파일 (5개)
```
apps/worker_app/pubspec.yaml                    — google_fonts 추가
apps/worker_app/lib/main.dart                   — 테마 교체, MainScaffold
apps/worker_app/lib/features/attendance/
  presentation/home_screen.dart                 — 전면 리디자인
  presentation/attendance_history_screen.dart    — 스타일 개선
apps/worker_app/lib/features/auth/
  presentation/login_screen.dart                — 폰트 교체
```

## 검증
- flutter run -d chrome 정상 실행 확인
- Supabase 연동 정상 (init completed)
