# v1.30 — Manager Web UI 전체 통일 작업

**작업일:** 2026-02-22 ~ 2026-02-23

## 작업 내용

1. 6개 메뉴 화면(대시보드/근로자/근태/급여/설정/계정) + 근로자상세 화면의 UI 스타일을 통일.
2. 계정관리 테이블: `DataTable` → `StickyHeaderTable` 교체 (인디고 헤더 통일)
3. 근태기록 날짜 범위 선택: 전체화면 → 팝업 다이얼로그로 변경

## 통일 기준값

| 항목 | 통일값 |
|------|--------|
| 스크린 패딩 | `EdgeInsets.all(28)` |
| 카드 borderRadius | 정보카드: 12, 필터/테이블카드: 8 |
| 카드 border | `outlineVariant.withValues(alpha: 0.3)` |
| 카드 elevation | 0 |
| 카드 내부 패딩 | 20 |
| 검색창 크기 | 200 × 36 |
| 검색창 fillColor | `surfaceContainerHighest.withValues(alpha: 0.3)` |
| 검색창 borderRadius | 8 |
| 섹션 헤더 | fontSize: 16, bold, indigo |
| 필터 드롭다운 border | `outlineVariant.withValues(alpha: 0.3)` |
| 상태 배지 | padding h:10 v:4, borderRadius:15, fontSize:12, bold |

## 변경 파일 요약

### accounts_screen.dart
- 스크린 패딩: `all(24)` → `all(28)`
- 계정카드 border: `Colors.grey[300]!` → `cs.outlineVariant.withValues(alpha: 0.3)`
- 목록카드 border: `Colors.grey[200]!` → `cs.outlineVariant.withValues(alpha: 0.3)`
- 검색창: `220×36, Colors.grey[100]` → `200×36, surfaceContainerHighest alpha 0.3`
- Divider: `Colors.grey[300]` → `cs.outlineVariant.withValues(alpha: 0.3)`
- **테이블: `DataTable` → `StickyHeaderTable.wrapWithCard`** (인디고 헤더 통일)
- 레이아웃: `SingleChildScrollView` → `Column` + `Flexible`(상단카드) + `Expanded`(테이블)
- 9개 컬럼: No.(45), 이름(75), 직위(80), 소속센터(80), 전화번호(110), 로그인아이디(155), 개인이메일(145), 상태(70), 생성일(90) = **850**
- 행 선택 + 클릭 → `_loadAccount()` 동작 유지

### workers_screen.dart
- 스크린 패딩: `all(24)` → `all(28)`
- 인사기록카드 border alpha: `0.4` → `0.3`
- 검색창: `180×38` → `200×36`
- 필터 드롭다운 border alpha: `0.4` → `0.3`
- 10개 컬럼 폭 축소: No.(45), 성명(75), 소속회사(85), 사번(85), 전화번호(115), 직무(95), 직위(65), 사업장(75), 재직상태(80), 입사일(95) = **815**

### dashboard_screen.dart
- 검색창: `250×40` → `200×36`
- 섹션 헤더 fontSize: `18` → `16`
- 센터 드롭다운 border alpha: `0.4` → `0.3`
- 10개 컬럼 폭 축소: No.(45), 사업장(75), 성명(75), 직위(65), 직무(95), 출근(65), 퇴근(65), 근무시간(80), 상태(75), 비고(110) = **750**

### attendance_records_screen.dart
- 검색창: `180×38` → `200×36`
- 필터 드롭다운 border alpha: `0.4` → `0.3`
- **날짜 범위 선택: `showDateRangePicker` → `showModernDateRangePicker` 커스텀 다이얼로그**
- 11개 컬럼 폭 축소: No.(45), 날짜(95), 성명(75), 직위(65), 직무(95), 사업장(75), 출근(65), 퇴근(65), 근무시간(80), 상태(75), 관리(80) = **815**

### payroll_screen.dart
- 년월 드롭다운 border alpha: `0.4` → `0.3`
- 섹션 헤더 fontSize: `18` → `16`
- 9개 컬럼 폭 축소: No.(45), 성명(75), 파트(95), 출근일수(75), 총근무시간(90), 시급(80), 기본급(95), 총급여(110), 상태(75) = **740**

### settings_screen.dart
- maxWidth: `800` → `900`
- 카드 border alpha: `0.4` → `0.3`
- 테마카드 border alpha: `0.4` → `0.3`

### worker_detail_screen.dart
- 인사기록카드 border alpha: `0.4` → `0.3`
- 월 선택 드롭다운 border alpha: `0.4` → `0.3`
- 섹션 헤더 fontSize: `18` → `16`

## 핵심 변경 포인트
- 하드코딩 `Colors.grey[100/200/300]` → 테마 기반 `colorScheme.outlineVariant` / `surfaceContainerHighest`
- 모든 검색창 200×36 통일
- 모든 border alpha 0.3 통일
- 모든 섹션 헤더 fontSize 16 통일
- 설정 화면 maxWidth 900으로 확대
- 계정관리 테이블: `DataTable` → `StickyHeaderTable` (인디고 헤더 전체 통일)
- 전체 테이블 컬럼 폭 축소: 수평 스크롤 제거 (5개 화면 모두 +34 포함 900px 이내)
- 날짜 선택: 커스텀 모던 다이얼로그 (`modern_date_picker.dart`)
  - 날짜 범위: 인디고 헤더, 프리셋 버튼 6개, 범위 하이라이트, 요일 색구분
  - 단일 날짜: 인디고 헤더, 원형 선택, 오늘 테두리 표시

## 신규 파일

### core/widgets/modern_date_picker.dart
- `showModernDateRangePicker()` — 날짜 범위 선택 (근태기록 화면)
  - 인디고 헤더바 + 선택 범위 표시
  - 프리셋 Chip: 오늘, 어제, 최근7일, 이번주, 이번달, 지난달
  - 커스텀 캘린더 그리드: 범위 하이라이트(인디고), 일/토 색구분
  - 적용/취소 버튼
- `showModernDatePicker()` — 단일 날짜 선택 (근로자관리 입/퇴사일)
  - 인디고 헤더바 + 선택 날짜 표시
  - 커스텀 캘린더 그리드: 선택 원형(인디고), 오늘 테두리
  - 확인/취소 버튼

---

## 추가 수정 (2026-02-23)

### sticky_data_table.dart — 테이블 Card 축소 수정
- `Column`의 `mainAxisSize: MainAxisSize.min` + `Flexible` + `ListView(shrinkWrap: true)` 적용
- `wrapWithCard()`에서 `ConstrainedBox(maxHeight: constraints.maxHeight)`로 부모 높이 제한
- 데이터 행 수가 적을 때 Card가 콘텐츠에 맞춰 축소, 넘칠 때만 스크롤

### workers_screen.dart — 카드 항상 표시 복원
- 인사기록카드: 선택/신규 상태 없을 때도 항상 렌더링
- 선택 없을 때 빈 상태 메시지 표시: "아래 목록에서 근로자를 선택하거나 신규 등록 버튼을 클릭하세요."
- 타이틀 3분기: `신규 근로자 등록` / `{이름} - 인사기록카드` / `인사기록카드`

### accounts_screen.dart — 카드 항상 표시 복원 + 이메일 컬럼 폭 수정
- 관리자 계정정보 카드: 선택/신규 상태 없을 때도 항상 렌더링
- 선택 없을 때 빈 상태 메시지 표시: "아래 목록에서 관리자 계정을 선택하거나 신규 등록 버튼을 클릭하세요."
- 타이틀 3분기: `신규 관리자 계정 생성` / `{이름} - 관리자 계정정보` / `관리자 계정정보`
- **개인 이메일 컬럼 폭**: `145` → `160`px (이메일 텍스트 줄바꿈 방지)
- 총 테이블 폭: 45+75+80+80+110+155+160+70+90 = **865** (+34 = 899px)

### side_nav_drawer.dart — 사이드 메뉴 들여쓰기 제거
- "근태 기록", "급여 관리 (준비중)" 메뉴에서 `isSubMenu: true` 제거
- 모든 메뉴 항목 동일 좌측 패딩(16px)으로 통일

### dashboard_screen.dart — 필터/검색 위치 이동
- 센터 드롭다운 + 검색창을 별도 Row에서 제거
- "▶ 오늘의 출퇴근 현황" 헤더 Row 우측에 `Spacer()` + 드롭다운 + 검색창 배치
- 상태 필터 Chip은 캘린더 위에 표시 (기존 위치 유지)
